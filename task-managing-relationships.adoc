---
sidebar: sidebar 
permalink: task-managing-relationships.html 
keywords: sync, immediate, now, schedule, minutes, hours, on, off, delete, group, accelerate, accelerating, grouping, multiple data brokers, sync now, turn off, turn on, sync schedule, settings, change settings, recently modified files, delete files on target, retries, retry, file types, exclude file type, include file type, delete relationship 
summary: データの即時同期やスケジュールの変更などにより、いつでも同期関係を管理できます。 
---
= 同期関係の管理
:toc: macro
:hardbreaks:
:toc: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/
:toc-position: content


[role="lead"]
データの即時同期やスケジュールの変更などにより、いつでも同期関係を管理できます。



== データの即時同期を実行しています

スケジュールされた次回の同期を待つのではなく、ボタンを押すと、ソースとターゲットの間でデータをすぐに同期できます。

.手順
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [ 今すぐ同期 ] をクリックし、 [* 同期 *] をクリックして確定します。


Cloud Sync は、関係のデータ同期プロセスを開始します。



== 同期パフォーマンスの高速化

同期関係を管理するグループにデータブローカーを追加することで、同期関係のパフォーマンスを向上できます。追加のデータブローカーには、 _NET_DATA ブローカーを指定する必要があります。

データブローカーグループが他の同期関係を管理している場合、グループに追加した新しいデータブローカーを使用することで、同期関係のパフォーマンスも向上します。

たとえば、次の 3 つの関係があるとします。

* 関係 1 はデータブローカーグループ A によって管理されます
* 関係 2 はデータブローカーグループ B によって管理されます
* 関係 3 は、データブローカーグループ A によって管理されます


新しいデータブローカーをデータブローカーグループ A に追加するため、関係 1 のパフォーマンスを高速化したいと考えていますグループ A でも同期関係 3 が管理されるため、関係の同期パフォーマンスも自動的に高速化されます。

.手順
. 関係にある既存のデータブローカーの少なくとも 1 つがオンラインであることを確認します。
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [*Accelerate] をクリックします。
. プロンプトに従って、新しいデータブローカーを作成します。


Cloud Sync が新しいデータブローカーをグループに追加次のデータ同期のパフォーマンスを高速化する必要があります。



== クレデンシャルを更新し

データブローカーを、既存の同期関係にあるソースまたはターゲットの最新のクレデンシャルで更新できます。クレデンシャルの更新は、セキュリティポリシーで定期的にクレデンシャルの更新が要求される場合に役立ちます。

クレデンシャルの更新は、 Cloud Sync で Azure Blob サーバ、 Box サーバ、 IBM Cloud Object Storage 、 StorageGRID 、 ONTAP S3 ストレージ、 SFTP サーバ、 SMB サーバのクレデンシャルが必要なすべてのソースまたはターゲットでサポートされています。

.手順
. * 同期ダッシュボード * で、資格情報が必要な同期関係に移動し、 * 資格情報の更新 * をクリックします。
+
image:screenshot_sync_update_credentials.png["ソースまたはターゲットの名前のすぐ下にある [ 関係の同期 ] ページの [ 資格情報の更新 ] オプションを示すスクリーンショット。"]

. クレデンシャルを入力し、 * Update * をクリックします。
+
SMB サーバに関する注意：新しいドメインの場合は、クレデンシャルを更新するときにドメインを指定する必要があります。ドメインが変更されていない場合は、再度入力する必要はありません。

+
同期関係の作成時にドメインを入力したが、クレデンシャルの更新時に新しいドメインを入力しなかった場合、 Cloud Sync は指定した元のドメインを使用し続けます。



Cloud Sync でデータブローカーのクレデンシャルが更新されます。データブローカーがデータ同期用に更新されたクレデンシャルを使用して起動するまで、 10 分程度かかる場合があります。



== 同期関係の設定を変更する

ソースファイルとフォルダの同期方法とターゲットの場所での保持方法を定義する設定を変更します。

. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [* 設定 * ] をクリックします。
. 設定を変更します。
+
image:screenshot_sync_settings.png["同期関係の設定を示すスクリーンショット。"]

+
[ 削除ソース ] 各設定の簡単な説明を次に示します。

+
スケジュール:: 以降の同期に対して繰り返し実行するスケジュールを選択するか、同期スケジュールをオフにします。データを 1 分ごとに同期するように関係をスケジュールできます。
再試行:: ファイルをスキップする前に Cloud Sync がファイルの同期を再試行する回数を定義します。
で比較してください:: ファイルまたはディレクトリが変更され、再度同期する必要があるかどうかを判断するときに、 Cloud Sync で特定の属性を比較するかどうかを選択します。
+
--
これらの属性をオフにしても、 Cloud Sync はパス、ファイルサイズ、およびファイル名をチェックしてソースとターゲットを比較します。変更がある場合は、それらのファイルとディレクトリが同期されます。

Cloud Sync では、次の属性の比較を有効または無効にすることができます。

** *mtime*: ファイルの最終変更時刻。この属性はディレクトリに対しては無効です。
** *uid* 、 *gid * 、および * mode* ： Linux の権限フラグ。


--
オブジェクトのコピー:: 関係の作成後にこのオプションを編集することはできません。
最近変更されたファイル:: スケジュールされた同期よりも前に最近変更されたファイルを除外するように選択します。
ソース上のファイルを削除します:: Cloud Sync によってファイルがターゲットの場所にコピーされた後、ソースの場所からファイルを削除することを選択します。このオプションには、コピー後にソースファイルが削除されるため、データ損失のリスクも含まれます。
+
--
このオプションを有効にする場合は、データブローカーで local.json ファイルのパラメータも変更する必要があります。ファイルを開き、次のように更新します。

[source, json]
----
{
"workers":{
"transferrer":{
"delete-on-source": true
}
}
}
----
--
ターゲット上のファイルを削除します:: ソースからファイルが削除された場合は、ターゲットの場所からファイルを削除することを選択します。デフォルトでは、ターゲットの場所からファイルが削除されることはありません。
ファイルの種類:: 各同期に含めるファイルタイプ（ファイル、ディレクトリ、シンボリックリンク）を定義します。
ファイル拡張子を除外します:: ファイル拡張子を入力し、 * Enter * キーを押して、同期から除外するファイル拡張子を指定します。たとえば、「 _LOG_OR_.log_ 」と入力すると、 *.log ファイルが除外されます。複数の拡張子に区切り文字は必要ありません。次のビデオでは、簡単なデモを紹介しています。
+
--
video::video_file_extensions.mp4[width=840,height=240]
--
ファイルサイズ:: サイズに関係なくすべてのファイルを同期するか、特定のサイズ範囲のファイルのみを同期するかを選択します。
変更日:: 最後に変更した日付、特定の日付以降に変更されたファイル、特定の日付より前、または期間に関係なく、すべてのファイルを選択します。
作成日:: SMB サーバがソースの場合、この設定を使用すると、指定した日付の前、特定の日付の前、または特定の期間の間に作成されたファイルを同期できます。
[ACL] - アクセスコントロールリスト:: 関係の作成時または関係の作成後に設定を有効にして、 SMB サーバから ACL をコピーします。


. [ 設定の保存 *] をクリックします。


Cloud Sync は、新しい設定との同期関係を変更します。



== 関係の削除

ソースとターゲットの間でデータを同期する必要がなくなった場合は、同期関係を削除できます。このアクションでは、データブローカーグループ（または個々のデータブローカーインスタンス）は削除されず、ターゲットからデータが削除されることもありません。

.手順
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [ 削除 ] をクリックし、もう一度 [ 削除 ] をクリックして確定します。


Cloud Sync は同期関係を削除します。
