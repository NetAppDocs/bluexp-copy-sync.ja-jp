---
sidebar: sidebar 
permalink: task-managing-relationships.html 
keywords: sync, immediate, now, schedule, minutes, hours, on, off, delete, group, accelerate, accelerating, grouping, multiple data brokers, sync now, turn off, turn on, sync schedule, settings, change settings, recently modified files, delete files on target, retries, retry, file types, exclude file type, include file type, delete relationship 
summary: データの即時同期やスケジュールの変更などにより、いつでも同期関係を管理できます。 
---
= 同期関係の管理
:toc: macro
:hardbreaks:
:allow-uri-read: 
:toc: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/
:toc-position: content


[role="lead"]
データの即時同期やスケジュールの変更などにより、いつでも同期関係を管理できます。



== 即時データ同期を実行します

スケジュールされた次回の同期を待つのではなく、ボタンを押すと、ソースとターゲットの間でデータをすぐに同期できます。

.手順
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [ 今すぐ同期 ] をクリックし、 [* 同期 *] をクリックして確定します。


.結果
BlueXPのコピーと同期によって、関係のデータ同期プロセスが開始されます。



== 同期パフォーマンスの高速化

同期関係を管理するグループにデータブローカーを追加することで、同期関係のパフォーマンスを向上できます。追加のデータブローカーには、 _NET_DATA ブローカーを指定する必要があります。

.これの仕組み
データブローカーグループが他の同期関係を管理している場合、グループに追加した新しいデータブローカーを使用することで、同期関係のパフォーマンスも向上します。

たとえば、次の 3 つの関係があるとします。

* 関係 1 はデータブローカーグループ A によって管理されます
* 関係 2 はデータブローカーグループ B によって管理されます
* 関係 3 は、データブローカーグループ A によって管理されます


新しいデータブローカーをデータブローカーグループ A に追加するため、関係 1 のパフォーマンスを高速化したいと考えていますグループ A でも同期関係 3 が管理されるため、関係の同期パフォーマンスも自動的に高速化されます。

.手順
. 関係にある既存のデータブローカーの少なくとも 1 つがオンラインであることを確認します。
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [*Accelerate] をクリックします。
. プロンプトに従って、新しいデータブローカーを作成します。


.結果
BlueXPのコピーと同期により、新しいデータブローカーがグループに追加されます。次のデータ同期のパフォーマンスを高速化する必要があります。



== クレデンシャルを更新し

データブローカーを、既存の同期関係にあるソースまたはターゲットの最新のクレデンシャルで更新できます。クレデンシャルの更新は、セキュリティポリシーで定期的にクレデンシャルの更新が要求される場合に役立ちます。

クレデンシャルの更新は、BlueXPのコピーと同期に必要なソースまたはターゲット（Azure Blob、Box、IBM Cloud Object Storage、StorageGRID 、ONTAP S3ストレージ、SFTP、SMBサーバ）でサポートされます。

.手順
. * 同期ダッシュボード * で、資格情報が必要な同期関係に移動し、 * 資格情報の更新 * をクリックします。
+
image:screenshot_sync_update_credentials.png["ソースまたはターゲットの名前のすぐ下にある [ 関係の同期 ] ページの [ 資格情報の更新 ] オプションを示すスクリーンショット。"]

. クレデンシャルを入力し、 * Update * をクリックします。
+
SMB サーバに関する注意：新しいドメインの場合は、クレデンシャルを更新するときにドメインを指定する必要があります。ドメインが変更されていない場合は、再度入力する必要はありません。

+
同期関係の作成時にドメインを入力したが、クレデンシャルの更新時に新しいドメインを入力しなかった場合、BlueXPのコピーと同期では指定した元のドメインが引き続き使用されます。



.結果
BlueXPのコピーと同期により、データブローカーのクレデンシャルが更新されます。データブローカーがデータ同期用に更新されたクレデンシャルを使用して起動するまで、 10 分程度かかる場合があります。



== 通知を設定する

各同期関係の*[通知]*設定を使用すると、BlueXPのコピーと同期の通知をBlueXPの通知センターで受け取るかどうかを選択できます。データの同期が成功した場合、データの同期が失敗した場合、データの同期がキャンセルされた場合の通知を有効にできます。

image:https://raw.githubusercontent.com/NetAppDocs/bluexp-copy-sync/main/media/screenshot-notification-center.png["BlueXPの通知センターを示すスクリーンショット"]

また、Eメールで通知を受け取ることもできます。

.手順
. 同期関係の設定を変更します。
+
.. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
.. [* 設定 * ] をクリックします。
.. 通知を有効にする*。
.. [ 設定の保存 *] をクリックします。


. Eメールで通知を受信する場合は、アラートと通知を設定します。
+
.. [*設定]>[アラートと通知の設定*]をクリックします。
.. ユーザまたは複数のユーザを選択し、「*情報」通知タイプを選択します。
.. [ 適用（ Apply ） ] をクリックします。




.結果
BlueXPのコピーと同期の通知がBlueXPの通知センターで受信されるようになりました。このオプションを設定している場合は、いくつかの通知がEメールで送信されます。



== 同期関係の設定を変更する

ソースファイルとフォルダの同期方法とターゲットの場所での保持方法を定義する設定を変更します。

. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [* 設定 * ] をクリックします。
. 設定を変更します。
+
image:screenshot_sync_settings.png["同期関係の設定を示すスクリーンショット。"]

+
[ 削除ソース ] 各設定の簡単な説明を次に示します。

+
スケジュール:: 以降の同期に対して繰り返し実行するスケジュールを選択するか、同期スケジュールをオフにします。データを 1 分ごとに同期するように関係をスケジュールできます。
同期タイムアウト:: 指定した時間、時間、または日数内に同期が完了していない場合に、BlueXPのコピーと同期をキャンセルするかどうかを定義します。
通知:: BlueXPのコピーと同期の通知をBlueXPの通知センターで受け取るかどうかを選択できます。データの同期が成功した場合、データの同期が失敗した場合、データの同期がキャンセルされた場合の通知を有効にできます。
+
--
の通知を受信する場合は

--
再試行:: BlueXPのコピーと同期がファイルの同期をスキップするまでに再試行する回数を定義します。
で比較してください:: ファイルやディレクトリが変更されたかどうか、再同期が必要かどうかを判断する際に、BlueXPのコピーと同期を比較するかどうかを選択します。
+
--
これらの属性のチェックを外しても、BlueXPのコピーと同期ではパス、ファイルサイズ、ファイル名がチェックされてソースとターゲットが比較されます。変更がある場合は、それらのファイルとディレクトリが同期されます。

BlueXPのコピーと同期を有効または無効にして、次の属性を比較することができます。

** *mtime*: ファイルの最終変更時刻。この属性はディレクトリに対しては無効です。
** *uid* 、 *gid * 、および * mode* ： Linux の権限フラグ。


--
オブジェクトのコピー:: 関係の作成後にこのオプションを編集することはできません。
最近変更されたファイル:: スケジュールされた同期よりも前に最近変更されたファイルを除外するように選択します。
ソース上のファイルを削除します:: BlueXPのコピーと同期でターゲットの場所にファイルがコピーされたあとに、ソースの場所からファイルを削除するように選択します。このオプションには、コピー後にソースファイルが削除されるため、データ損失のリスクも含まれます。
+
--
このオプションを有効にする場合は、データブローカーで local.json ファイルのパラメータも変更する必要があります。ファイルを開き、次のように更新します。

[source, json]
----
{
"workers":{
"transferrer":{
"delete-on-source": true
}
}
}
----
--
ターゲット上のファイルを削除します:: ソースからファイルが削除された場合は、ターゲットの場所からファイルを削除することを選択します。デフォルトでは、ターゲットの場所からファイルが削除されることはありません。
ファイルの種類:: 各同期に含めるファイルタイプ（ファイル、ディレクトリ、シンボリックリンク、ハードリンク）を定義します。
+
--

NOTE: ハードリンクは、セキュリティ保護されていないNFSからNFSへの関係でのみ使用できます。ユーザーは1つのスキャナプロセスと1つのスキャナ同時実行に制限され、スキャンはルートディレクトリから実行する必要があります。

--
ファイル拡張子を除外します:: ファイル拡張子を入力し、 * Enter * キーを押して、同期から除外するファイル拡張子を指定します。たとえば、「 _LOG_OR_.log_ 」と入力すると、 *.log ファイルが除外されます。複数の拡張子に区切り文字は必要ありません。次のビデオでは、簡単なデモを紹介しています。
+
--
video::video_file_extensions.mp4[width=840,height=240]
--
ディレクトリを除外します:: 同期から除外するディレクトリを最大15個指定します。指定するには、名前またはディレクトリのフルパスを入力し、* Enter *を押します。デフォルトでは、.copy-Offload、.snapshot、~snapshotディレクトリが除外されます。これらの情報を同期に含めたい場合は、こちらまでお問い合わせください。
ファイルサイズ:: サイズに関係なくすべてのファイルを同期するか、特定のサイズ範囲のファイルのみを同期するかを選択します。
変更日:: 最後に変更した日付、特定の日付以降に変更されたファイル、特定の日付より前、または期間に関係なく、すべてのファイルを選択します。
作成日:: SMB サーバがソースの場合、この設定を使用すると、指定した日付の前、特定の日付の前、または特定の期間の間に作成されたファイルを同期できます。
[ACL] - アクセスコントロールリスト:: 関係の作成時または関係の作成後に設定を有効にして、 SMB サーバから ACL をコピーします。


. [ 設定の保存 *] をクリックします。


.結果
BlueXPのコピーと同期は、新しい設定を使用して同期関係を変更します。



== 関係の削除

ソースとターゲットの間でデータを同期する必要がなくなった場合は、同期関係を削除できます。このアクションでは、データブローカーグループ（または個々のデータブローカーインスタンス）は削除されず、ターゲットからデータが削除されることもありません。

.手順
. ダッシュボード * で同期関係に移動し、をクリックします image:icon-sync-action.png["同期関係に対して操作を実行できるボタンのスクリーンショット"]
. [ 削除 ] をクリックし、もう一度 [ 削除 ] をクリックして確定します。


.結果
BlueXPのコピーと同期によって同期関係が削除されます。
